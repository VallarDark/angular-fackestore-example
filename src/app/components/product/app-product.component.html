<ng-template [ngIf]="showDetails">
    <div class="background"></div>
</ng-template>

    <div class="product p-3 {{showDetails?'detailed':''}}">

        <div class="flex px-4 py-3 w-100 text-2xl relative rounded-br-[30%] outline-2 outline-offset-4 outline-dashed outline-red-300 text-white bg-dark h-28">
            <p (pointerover)="titleIsHover=true" (pointerout)="titleIsHover=false" class="line-clamp-2 m-auto max-h-100 text-clip overflow-hidden">           
                {{product.title}}
            </p>    
            <span *ngIf="titleIsHover" class="absolute hovertext text-white bg-opacity-75 bg-dark bg-gradient w-100 z-10 text-sm rounded px-2 py-1">
                {{product.title}}
            </span>      
        </div>

        <div class="position-relative h-75 w-100">               

            <hr class="border-1">

            <div class="product-img-bg flex w-100 rounded bg-white px-5 py-4">
                <img [src] = "product.image" [alt]="product.title" class="product-img m-auto">
            </div>

            <hr class="border-1">

            <div class="flex w-100">
                <div class="w-fit text-lg px-4 py-2 text-white bg-dark rounded-pill">{{product.category}}</div>
            </div>

            <hr class="border-2">

            <div class="px-3 py-2 text-3xl">Price: {{product.price| currency}}</div>

            <hr class="border-2">

        <div class="p-2">
            <button (click)="showDetails=!showDetails" class = "btn {{showDetails==true?'btn-primary':'btn-danger'}}"> {{showDetails==true?"Hide":"Show"}} info</button>
        </div>
        <ng-template [ngIf]="showDetails">
            <div class="details p-2">
                <div class="p-2">{{product.description}}</div>      
                <div class="p-2">          
                    <ngb-rating [(rate)]="product.rating.rate" [readonly]="true" [max]="5"></ngb-rating>     

                    <hr class="border-1"/>     

                    Rate: <b>{{product.rating.rate}}</b>,
                    Vouts: <b>{{product.rating.count}}</b>
                </div>
            </div>           
        </ng-template>
    </div>
</div>  